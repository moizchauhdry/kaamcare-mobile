const checkboxImg='<img src="https://stkmcrappsdevplc.blob.core.windows.net/auth/src/images/checkbox.svg" alt="check" />';let isPasswordCorrect=!1,isCheckboxCheck=!1;function fixStepContent(e){document.querySelector("p.step").innerHTML=`${e}/3`}function fixLoginLink(){const e=document.querySelector("#login-link"),t=window.location.href;if(t.includes("p=B2C_1_SignUpSignIn"))return e.setAttribute("href",void 0),void e.addEventListener("click",(e=>{e.preventDefault(),window.history.back()}));const n=t.replace("p=B2C_1_SignUp","p=B2C_1_SignUpSignIn");e.setAttribute("href",n)}function fixEmailInput(){document.querySelector("input#email").placeholder="myemail@exampleemail.com"}function hideChangeEmailButton(){document.querySelector("button.changeClaims").style="display: none!important"}function replaceTitleContent(){const e=document.querySelector("div#api"),t=document.createElement("div");t.classList.add("heading");const n=document.createElement("h1"),o=document.createElement("p");o.classList.add("step","step-text"),n.role="heading",n.innerHTML="Create your account",t.appendChild(o),t.appendChild(n),e.insertBefore(t,e.firstChild),fixStepContent(1)}function fixIntroElement(){const e=document.querySelector("div.intro"),t=e.querySelector("p");e.removeChild(t)}function fixEmailLabel(){const e=document.querySelector('label[for="emailVerificationControl"]');e.innerHTML="Email";e.parentElement.removeChild(e);const t=document.querySelector("input#email").parentElement;t.insertBefore(e,t.children[0]),e.style="display: block!important;",e.classList.add("common-label")}function fixLabelVerificationCode(){const e=document.querySelector("label#emailVerificationCode_label");e.innerHTML="Verification code",e.style="display: block!important",e.classList.add("common-label")}function fixLabelPassword(){const e=document.querySelector("label#newPassword_label"),t=document.querySelector("label#reenterPassword_label");e.innerHTML="Password",t.innerHTML="Confirm Password",e.classList.add("common-label"),t.classList.add("common-label")}function deleteRequiredStar(){[...document.querySelectorAll("span.required")].forEach((e=>{e.parentElement.removeChild(e)}))}function addPasswordInfo(){const e=document.querySelector("input#newPassword"),t=document.querySelector("div#attributeList"),n=document.createElement("p");n.innerText="Passwords must be at least 8 characters",n.classList.add("password-checker-text");const o=document.createElement("p");o.innerText="Uppercase & lowercase letters",o.classList.add("password-checker-text");const i=document.createElement("p");i.innerText="At least one number",i.classList.add("password-checker-text");const c=document.createElement("p");c.innerText="At least one symbol",c.classList.add("password-checker-text");const s=document.createElement("span");s.classList.add("password-checker"),s.innerHTML="-";const a=document.createElement("span");a.classList.add("password-checker"),a.innerHTML="-";const r=document.createElement("span");r.classList.add("password-checker"),r.innerHTML="-";const l=document.createElement("span");l.classList.add("password-checker"),l.innerHTML="-";const d=document.createElement("div");d.classList.add("password-checker-wrapper"),d.appendChild(s),d.appendChild(n);const u=document.createElement("div");u.classList.add("password-checker-wrapper"),u.appendChild(a),u.appendChild(o);const p=document.createElement("div");p.classList.add("password-checker-wrapper"),p.appendChild(r),p.appendChild(i);const m=document.createElement("div");m.classList.add("password-checker-wrapper"),m.appendChild(l),m.appendChild(c);const y=document.createElement("div");y.classList.add("password-checker-container"),y.appendChild(d),y.appendChild(u),y.appendChild(p),y.appendChild(m),t.appendChild(y),y.style="display: none;",e.addEventListener("input",(e=>{const t=e.target.value,d=t.length>=8&&t.length<64,u=/(?=.*[0-9])/.test(t),p=/(?=.*[a-z])(?=.*[A-Z])/.test(t),m=/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t);passwordCheck(u,i,r),passwordCheck(p,o,a),passwordCheck(d,n,s),passwordCheck(m,c,l),isPasswordCorrect=d&&u&&p&&m,checkContinueButton()}))}function passwordCheck(e,t,n){e?(t.classList.add("password-checker-text-active"),n.innerHTML=checkboxImg):t.classList.contains("password-checker-text-active")&&(t.classList.remove("password-checker-text-active"),n.innerHTML="-")}function checkSendVerificationButton(){const e=document.querySelector("#emailVerificationControl_but_send_code");isCheckboxCheck?(e.disabled=!1,e.setAttribute("aria-disabled",!1)):(e.disabled=!0,e.setAttribute("aria-disabled",!0))}function checkContinueButton(){const e=document.querySelector("button#continue");isCheckboxCheck&&isPasswordCorrect?(e.disabled=!1,e.setAttribute("aria-disabled",!1)):(e.disabled=!0,e.setAttribute("aria-disabled",!0))}function termsAndConditions(){const e=document.querySelector("div#termsAndConditions"),t=document.querySelector("a#termsAndConditionsLink");e.querySelector("a").addEventListener("click",(t=>{t.preventDefault(),e.style.display="none"})),t.addEventListener("click",(t=>{t.preventDefault(),e.style.display="block"}))}function privacyPolicy(){const e=document.querySelector("div#privacyPolicy"),t=document.querySelector("a#privacyPolicyLink");e.querySelector("a").addEventListener("click",(t=>{t.preventDefault(),e.style.display="none"})),t.addEventListener("click",(t=>{t.preventDefault(),e.style.display="block"}))}function toggleDisplayElement(e){e.style.display?"none"===e.style.display?e.style.display="block":"inline"!==e.style.display&&"block"!==e.style.display||(e.style.display="none"):e.style.display="none"}function togglePasswordInput(){[...document.querySelectorAll("li.Password")].forEach((e=>{toggleDisplayElement(e)}))}function toggleContinueButton(){toggleDisplayElement(document.querySelector("button#continue"))}function togglePasswordInfo(){document.querySelector(".password-checker-container").style="display: block"}function toggleEmailInput(){toggleDisplayElement(document.querySelector("li.EmailBox"))}function addGenericErrorMessage(){document.querySelector("#claimVerificationServerError").innerHTML="We are sorry. Something went wrong. Please try again later."}function hideSuccessMessage(){document.querySelector("#emailVerificationControl_success_message").style="display: none"}function disableCheckbox(){document.querySelector("input#privacyPolicyCheckbox").disabled=!0}function initObserver(){const e=document.querySelector("body");new MutationObserver(((e,t)=>{for(const t of e)if("attributes"===t.type&&"style"===t.attributeName){const e=t.target;e.classList.contains("VerificationCode")&&"inline"===e.style.display?(fixStepContent(2),disableCheckbox(),toggleEmailInput()):e.classList.contains("changeClaims")&&"inline"===e.style.display&&(fixStepContent(3),hideChangeEmailButton(),toggleEmailInput(),togglePasswordInput(),toggleContinueButton(),togglePasswordInfo(),addGenericErrorMessage(),hideSuccessMessage())}})).observe(e,{attributes:!0,attributesFilter:["styles"],childList:!0,subtree:!0})}function showContent(){document.querySelector(".container").style="display: table!important;"}function app(){fixLoginLink(),replaceTitleContent(),hideChangeEmailButton(),fixEmailLabel(),fixLabelPassword(),fixLabelVerificationCode(),fixIntroElement(),fixEmailInput(),termsAndPrivacyCheck(),deleteRequiredStar(),addPasswordInfo(),checkContinueButton(),checkSendVerificationButton(),termsAndConditions(),privacyPolicy(),togglePasswordInput(),toggleContinueButton(),initObserver(),showContent()}function termsAndPrivacyCheck(){const e=document.querySelector("input#privacyPolicyCheckbox"),t=document.querySelector("a#termsAndConditionsLink"),n=document.querySelector("a#privacyPolicyLink");t.addEventListener("click",(e=>e.stopPropagation())),n.addEventListener("click",(e=>e.stopPropagation())),e.addEventListener("input",(e=>{e.preventDefault(),e.stopPropagation(),isCheckboxCheck=e.target.checked,checkContinueButton(),checkSendVerificationButton()}))}app();